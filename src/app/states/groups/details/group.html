<div class="panel details">
  <form class="form-horizontal" name="form">
    <!-- ID -->
    <div class="form-group" ng-if="groupCtrl.mode === groupCtrl.ENTITY_MODES.EDIT">
      <label class="col-sm-2 control-label">ID</label>
      <div class="col-sm-10">
        <p class="form-control-static">
          {{groupCtrl.group.id}}
        </p>

        <span>&nbsp;</span>
      </div>
    </div>

    <!-- Name -->
    <div class="form-group" ng-class="{'has-error': form.name.$invalid && form.name.$dirty}">
      <label class="col-sm-2 control-label">* Name</label>
      <div class="col-sm-10">
        <input name="name" type="text" class="form-control" placeholder="Group name" ng-model="groupCtrl.group.name" required />

        <span ng-show="form.name.$valid || !form.name.$dirty">&nbsp;</span>
        <span class="text-danger" ng-show="form.name.$error.required && form.name.$dirty">
          name can't be empty
        </span>
      </div>
    </div>

    <!-- Users -->
    <div class="form-group">
      <label class="col-sm-2 control-label">Users</label>
      <div class="col-sm-10">
        <tags-input 
          ng-model="groupCtrl.group.users"
          add-from-autocomplete-only="true"
          add-on-enter="true"
          replace-spaces-with-dashes="false"
          display-property="name"
          key-property="id"
          placeholder="Start typing to search...">
          <auto-complete
            source="groupCtrl.filterUsers($query)"
            min-length="1">
          </auto-complete>
        </tags-input>

        <span>&nbsp;</span>
      </div>
    </div>

    <!-- Actions -->
    <div class="form-group">
      <div class="col-xs-12 text-right">
        <a class="btn btn-default" ui-sref="groups">Cancel</a>
        <button class="btn btn-success" type="submit" ng-click="groupCtrl.submit()">
          {{groupCtrl.mode === groupCtrl.ENTITY_MODES.ADD ? 'Add' : 'Save'}}
        </button>
      </div>
    </div>
  </form>
</div>